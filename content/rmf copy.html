<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <style>
        * {
            font-family: monospace;
            font-size: 8;
        }
        #opschart {
            width: 100%;
            height: 100%;
            min-height: 550px;
        }
    </style>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        var opschart, opschartData, opsdataView;
        var etimeschart, etimeschartData, etimesdataView;
        var nullFunc = function () {
            return null;
        };
        google.charts.load('current', {
            'packages': ['corechart', 'line']
        });
        google.charts.setOnLoadCallback(drawChart);

//data specific - start of dynamic 

        var columns = [{
                type: 'number',
                label: 'clock'
            },
            {
                type: 'number',
                label: 'gg',
                color: 'red',
                disabledColor: '#FFD9D9',
                visible: true
            },
            {
                type: 'number',
                label: 'fail',
                color: 'blue',
                disabledColor: '#D9D9FF',
                visible: true,
            },
            {
                type: 'number',
                label: 'succ',
                color: 'green',
                disabledColor: '#C3E6C3',
                visible: true,
            }
        ];
        function drawChart() {
            console.log("click");
            if (!opschart) {
                var ops = new google.visualization.DataTable();
                ops.addColumn('number', 'clock');
                ops.addColumn('number', 'gg');
                ops.addColumn('number', 'fail');
                ops.addColumn('number', 'succ');
                ops.addRows([
                    [1592063210000, 5235, 741, 235],
                    [1592063211000, 5758, 816, 219],
                    [1592063212000, 5519, 771, 224],
                    [1592063213000, 5043, 704, 250],
                    [1592063214000, 5295, 758, 238],
                    [1592063215000, 5591, 796, 246],
                    [1592063216000, 5061, 723, 243],
                    [1592063217000, 5576, 799, 217],
                    [1592063218000, 5549, 798, 225],
                    [1592063219000, 5499, 783, 231],
                    [1592063220000, 5424, 782, 213],
                    [1592063221000, 5231, 725, 216],
                    [1592063222000, 5438, 789, 264],
                    [1592063223000, 5161, 749, 248]
                ], false);

                opsdataView = new google.visualization.DataView(ops);
                opschart = new google.visualization.LineChart(document.getElementById('opschart'));
                google.visualization.events.addListener(opschart, 'click', function (target) {
                    if (target.targetID.match(/^legendentry#\d+$/)) {
                        var index = parseInt(target.targetID.slice(12)) + 1;
                        columns[index].visible = !columns[index].visible;
                        drawChart();
                    }
                });
            }
// data specific - end of dynamic
// data specific - start of static            var visibleColumnIndexes = [0];
            var colors = [];
            for (var i = 1; i < columns.length; i++) {
                if (columns[i].visible) {
                    colors.push(columns[i].color);
                    visibleColumnIndexes.push(i);
                } else {
                    colors.push(columns[i].disabledColor);
                    visibleColumnIndexes.push({
                        calc: nullFunc,
                        type: columns[i].type,
                        label: columns[i].label,
                    });
                }
            };
            opsdataView.setColumns(visibleColumnIndexes);
            opschart.draw(opsdataView, {
                colors: colors,
                width: 1600,
                height: 500,
                chartArea: {
                    'width': '80%',
                    'height': '86%'
                },
                hAxis: {
                    textPosition: 'none'
                },
                vAxis: {
                    title: 'Transactions'
                }
            });
        };
// data specific - end of static        
    </script>
</head>

<body>
    <div id="opschart"></div>
    ops
    <div id="etimes"></div>
    etimes
</body>

</html>