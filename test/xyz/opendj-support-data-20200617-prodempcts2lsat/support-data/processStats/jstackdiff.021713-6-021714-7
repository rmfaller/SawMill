396,403c396,454
< "Replica replay thread 3" #35 prio=5 os_prio=0 tid=0x00007fc66972a000 nid=0x4d5f waiting on condition [0x00007fc5cecdb000]
<    java.lang.Thread.State: TIMED_WAITING (parking)
< 	at sun.misc.Unsafe.park(Native Method)
< 	- parking to wait for  <0x00000006e1b737c0> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
< 	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
< 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
< 	at java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:467)
< 	at org.opends.server.replication.plugin.UpdateReplayThreadPool$ReplayThread.run(UpdateReplayThreadPool.java:240)
---
> "Replica replay thread 3" #35 prio=5 os_prio=0 tid=0x00007fc66972a000 nid=0x4d5f runnable [0x00007fc5cecda000]
>    java.lang.Thread.State: RUNNABLE
> 	at org.forgerock.opendj.ldap.ByteString.hashCode(ByteString.java:434)
> 	at org.forgerock.opendj.ldap.ByteString.hashCode(ByteString.java:761)
> 	at org.opends.server.replication.plugin.AttrValueHistorical.hashCode(AttrValueHistorical.java:70)
> 	at java.util.HashMap.hash(HashMap.java:339)
> 	at java.util.LinkedHashMap$LinkedKeySet.remove(LinkedHashMap.java:547)
> 	at com.forgerock.opendj.util.SmallSet.remove(SmallSet.java:209)
> 	at com.forgerock.opendj.util.SmallSet.addOrReplace(SmallSet.java:160)
> 	at org.opends.server.replication.plugin.AttrHistoricalMultiple.update(AttrHistoricalMultiple.java:167)
> 	at org.opends.server.replication.plugin.AttrHistoricalMultiple.delete(AttrHistoricalMultiple.java:134)
> 	at org.opends.server.replication.plugin.AttrHistoricalMultiple.assign(AttrHistoricalMultiple.java:482)
> 	at org.opends.server.replication.plugin.EntryHistorical.addAttrHistorical(EntryHistorical.java:829)
> 	at org.opends.server.replication.plugin.EntryHistorical.addAttrHistorical(EntryHistorical.java:822)
> 	at org.opends.server.replication.plugin.EntryHistorical.addAttrHistoricalDeleteValue(EntryHistorical.java:790)
> 	at org.opends.server.backends.pluggable.ID2Entry$EntryCodec$3.lazyDecodeDsSyncHist(ID2Entry.java:896)
> 	at org.opends.server.backends.pluggable.ID2Entry$EntryCodec$3.lambda$decodeDsSyncHist$0(ID2Entry.java:781)
> 	at org.opends.server.backends.pluggable.ID2Entry$EntryCodec$3$$Lambda$433/345632449.get(Unknown Source)
> 	at org.opends.server.replication.plugin.EntryHistoricalAttribute.getEntryHistorical0(EntryHistoricalAttribute.java:91)
> 	at org.opends.server.replication.plugin.EntryHistoricalAttribute.getEntryHistoricalForUpdate(EntryHistoricalAttribute.java:105)
> 	at org.opends.server.replication.plugin.EntryHistorical.newInstanceFromEntry(EntryHistorical.java:473)
> 	at org.opends.server.replication.plugin.LDAPReplicationDomain.handleConflictResolution(LDAPReplicationDomain.java:1537)
> 	at org.opends.server.replication.plugin.MultimasterReplication.handleConflictResolution(MultimasterReplication.java:467)
> 	at org.opends.server.core.ModifyOperation.handleConflictResolution(ModifyOperation.java:1364)
> 	at org.opends.server.core.ModifyOperation.processModify(ModifyOperation.java:487)
> 	at org.opends.server.core.ModifyOperation.processLocalModify(ModifyOperation.java:379)
> 	at org.opends.server.core.ModifyOperation.run(ModifyOperation.java:297)
> 	at org.opends.server.protocols.internal.AbstractInternalClientConnection.handleRequest(AbstractInternalClientConnection.java:365)
> 	at org.opends.server.protocols.internal.AbstractInternalClientConnection.lambda$handle$0(AbstractInternalClientConnection.java:348)
> 	at org.opends.server.protocols.internal.AbstractInternalClientConnection$$Lambda$96/485475507.subscribe(Unknown Source)
> 	at io.reactivex.internal.operators.flowable.FlowableCreate.subscribeActual(FlowableCreate.java:72)
> 	at io.reactivex.Flowable.subscribe(Flowable.java:13234)
> 	at io.reactivex.Flowable.subscribe(Flowable.java:13180)
> 	at io.reactivex.internal.operators.flowable.FlowableLift.subscribeActual(FlowableLift.java:49)
> 	at io.reactivex.Flowable.subscribe(Flowable.java:13234)
> 	at io.reactivex.internal.operators.flowable.FlowableDoOnEach.subscribeActual(FlowableDoOnEach.java:50)
> 	at io.reactivex.Flowable.subscribe(Flowable.java:13234)
> 	at io.reactivex.internal.operators.flowable.FlowableDoFinally.subscribeActual(FlowableDoFinally.java:47)
> 	at io.reactivex.Flowable.subscribe(Flowable.java:13234)
> 	at io.reactivex.internal.operators.flowable.FlowableMap.subscribeActual(FlowableMap.java:38)
> 	at io.reactivex.Flowable.subscribe(Flowable.java:13234)
> 	at io.reactivex.internal.operators.flowable.FlowableDoOnEach.subscribeActual(FlowableDoOnEach.java:50)
> 	at io.reactivex.Flowable.subscribe(Flowable.java:13234)
> 	at io.reactivex.internal.operators.flowable.FlowableOnErrorNext.subscribeActual(FlowableOnErrorNext.java:39)
> 	at io.reactivex.Flowable.subscribe(Flowable.java:13234)
> 	at io.reactivex.internal.operators.flowable.FlowableFilter.subscribeActual(FlowableFilter.java:37)
> 	at io.reactivex.Flowable.subscribe(Flowable.java:13234)
> 	at io.reactivex.internal.operators.flowable.FlowableMap.subscribeActual(FlowableMap.java:38)
> 	at io.reactivex.Flowable.subscribe(Flowable.java:13234)
> 	at io.reactivex.Flowable.blockingLast(Flowable.java:5576)
> 	at org.opends.server.protocols.internal.AbstractInternalClientConnection$InternalConnection.performRequest(AbstractInternalClientConnection.java:193)
> 	at org.opends.server.protocols.internal.AbstractInternalClientConnection$InternalConnection.modify(AbstractInternalClientConnection.java:123)
> 	at org.forgerock.opendj.ldap.AbstractConnection$1.visitRequest(AbstractConnection.java:145)
> 	at org.forgerock.opendj.ldap.AbstractConnection$1.visitRequest(AbstractConnection.java:127)
> 	at org.forgerock.opendj.ldap.messages.ModifyRequestImpl.accept(ModifyRequestImpl.java:54)
> 	at org.forgerock.opendj.ldap.AbstractConnection.applyChange(AbstractConnection.java:171)
> 	at org.opends.server.replication.plugin.LDAPReplicationDomain.processReplayRequest(LDAPReplicationDomain.java:1889)
> 	at org.opends.server.replication.plugin.LDAPReplicationDomain.replay(LDAPReplicationDomain.java:1806)
> 	at org.opends.server.replication.plugin.UpdateReplayThreadPool$ReplayThread.run(UpdateReplayThreadPool.java:246)
405,412c456,519
< "Replica replay thread 2" #34 prio=5 os_prio=0 tid=0x00007fc669728800 nid=0x4d5e waiting on condition [0x00007fc5ceddc000]
<    java.lang.Thread.State: TIMED_WAITING (parking)
< 	at sun.misc.Unsafe.park(Native Method)
< 	- parking to wait for  <0x00000006e1a77698> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
< 	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
< 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
< 	at java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:467)
< 	at org.opends.server.replication.plugin.UpdateReplayThreadPool$ReplayThread.run(UpdateReplayThreadPool.java:240)
---
> "Replica replay thread 2" #34 prio=5 os_prio=0 tid=0x00007fc669728800 nid=0x4d5e runnable [0x00007fc5ceddb000]
>    java.lang.Thread.State: RUNNABLE
> 	at java.util.zip.Adler32.updateBytes(Native Method)
> 	at java.util.zip.Adler32.update(Adler32.java:78)
> 	at com.sleepycat.je.log.LogEntryHeader.addPostMarshallingInfo(LogEntryHeader.java:451)
> 	at com.sleepycat.je.log.LogManager.logItem(LogManager.java:433)
> 	at com.sleepycat.je.log.LogManager.log(LogManager.java:340)
> 	at com.sleepycat.je.tree.LN.logInternal(LN.java:713)
> 	- locked <0x00000006d49838a0> (a com.sleepycat.je.txn.Txn)
> 	at com.sleepycat.je.tree.LN.optionalLog(LN.java:419)
> 	at com.sleepycat.je.dbi.CursorImpl.insertRecordInternal(CursorImpl.java:1433)
> 	at com.sleepycat.je.dbi.CursorImpl.insertOrUpdateRecord(CursorImpl.java:1221)
> 	at com.sleepycat.je.Cursor.putNoNotify(Cursor.java:2909)
> 	at com.sleepycat.je.Cursor.putNotify(Cursor.java:2747)
> 	at com.sleepycat.je.Cursor.putNoDups(Cursor.java:2594)
> 	at com.sleepycat.je.Cursor.putInternal(Cursor.java:2425)
> 	- locked <0x00000006d4983990> (a com.sleepycat.je.Transaction)
> 	at com.sleepycat.je.Cursor.putInternal(Cursor.java:830)
> 	at com.sleepycat.je.Database.put(Database.java:1603)
> 	at com.sleepycat.je.Database.put(Database.java:1656)
> 	at org.opends.server.backends.jeb.JEStorage$WriteableTransactionImpl.put(JEStorage.java:434)
> 	at org.opends.server.backends.pluggable.ID2Entry.put(ID2Entry.java:1205)
> 	at org.opends.server.backends.pluggable.EntryContainer.addEntry0(EntryContainer.java:1494)
> 	at org.opends.server.backends.pluggable.EntryContainer.lambda$addEntry$4(EntryContainer.java:1450)
> 	at org.opends.server.backends.pluggable.EntryContainer$$Lambda$432/1658587729.run(Unknown Source)
> 	at org.opends.server.backends.jeb.JEStorage.write(JEStorage.java:950)
> 	at org.opends.server.backends.pluggable.TracedStorage.write(TracedStorage.java:443)
> 	at org.opends.server.backends.pluggable.EntryContainer.addEntry(EntryContainer.java:1450)
> 	at org.opends.server.backends.pluggable.BackendImpl.addEntry(BackendImpl.java:395)
> 	at org.opends.server.core.AddOperation.processAdd(AddOperation.java:537)
> 	at org.opends.server.core.AddOperation.processLocalAdd(AddOperation.java:329)
> 	at org.opends.server.core.AddOperation.run(AddOperation.java:268)
> 	at org.opends.server.protocols.internal.AbstractInternalClientConnection.handleRequest(AbstractInternalClientConnection.java:365)
> 	at org.opends.server.protocols.internal.AbstractInternalClientConnection.lambda$handle$0(AbstractInternalClientConnection.java:348)
> 	at org.opends.server.protocols.internal.AbstractInternalClientConnection$$Lambda$96/485475507.subscribe(Unknown Source)
> 	at io.reactivex.internal.operators.flowable.FlowableCreate.subscribeActual(FlowableCreate.java:72)
> 	at io.reactivex.Flowable.subscribe(Flowable.java:13234)
> 	at io.reactivex.Flowable.subscribe(Flowable.java:13180)
> 	at io.reactivex.internal.operators.flowable.FlowableLift.subscribeActual(FlowableLift.java:49)
> 	at io.reactivex.Flowable.subscribe(Flowable.java:13234)
> 	at io.reactivex.internal.operators.flowable.FlowableDoOnEach.subscribeActual(FlowableDoOnEach.java:50)
> 	at io.reactivex.Flowable.subscribe(Flowable.java:13234)
> 	at io.reactivex.internal.operators.flowable.FlowableDoFinally.subscribeActual(FlowableDoFinally.java:47)
> 	at io.reactivex.Flowable.subscribe(Flowable.java:13234)
> 	at io.reactivex.internal.operators.flowable.FlowableMap.subscribeActual(FlowableMap.java:38)
> 	at io.reactivex.Flowable.subscribe(Flowable.java:13234)
> 	at io.reactivex.internal.operators.flowable.FlowableDoOnEach.subscribeActual(FlowableDoOnEach.java:50)
> 	at io.reactivex.Flowable.subscribe(Flowable.java:13234)
> 	at io.reactivex.internal.operators.flowable.FlowableOnErrorNext.subscribeActual(FlowableOnErrorNext.java:39)
> 	at io.reactivex.Flowable.subscribe(Flowable.java:13234)
> 	at io.reactivex.internal.operators.flowable.FlowableFilter.subscribeActual(FlowableFilter.java:37)
> 	at io.reactivex.Flowable.subscribe(Flowable.java:13234)
> 	at io.reactivex.internal.operators.flowable.FlowableMap.subscribeActual(FlowableMap.java:38)
> 	at io.reactivex.Flowable.subscribe(Flowable.java:13234)
> 	at io.reactivex.Flowable.blockingLast(Flowable.java:5576)
> 	at org.opends.server.protocols.internal.AbstractInternalClientConnection$InternalConnection.performRequest(AbstractInternalClientConnection.java:193)
> 	at org.opends.server.protocols.internal.AbstractInternalClientConnection$InternalConnection.add(AbstractInternalClientConnection.java:102)
> 	at org.forgerock.opendj.ldap.AbstractConnection$1.visitRequest(AbstractConnection.java:130)
> 	at org.forgerock.opendj.ldap.AbstractConnection$1.visitRequest(AbstractConnection.java:127)
> 	at org.forgerock.opendj.ldap.messages.AddRequestImpl.accept(AddRequestImpl.java:47)
> 	at org.forgerock.opendj.ldap.AbstractConnection.applyChange(AbstractConnection.java:171)
> 	at org.opends.server.replication.plugin.LDAPReplicationDomain.processReplayRequest(LDAPReplicationDomain.java:1889)
> 	at org.opends.server.replication.plugin.LDAPReplicationDomain.replay(LDAPReplicationDomain.java:1806)
> 	at org.opends.server.replication.plugin.UpdateReplayThreadPool$ReplayThread.run(UpdateReplayThreadPool.java:246)
