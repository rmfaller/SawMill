127,199c127,136
< 	at sun.misc.Unsafe.unpark(Native Method)
< 	at java.util.concurrent.locks.LockSupport.unpark(LockSupport.java:141)
< 	at java.util.concurrent.locks.AbstractQueuedSynchronizer.unparkSuccessor(AbstractQueuedSynchronizer.java:662)
< 	at java.util.concurrent.locks.AbstractQueuedSynchronizer.release(AbstractQueuedSynchronizer.java:1264)
< 	at java.util.concurrent.locks.ReentrantLock.unlock(ReentrantLock.java:457)
< 	at java.util.concurrent.LinkedBlockingQueue.signalNotEmpty(LinkedBlockingQueue.java:176)
< 	at java.util.concurrent.LinkedBlockingQueue.offer(LinkedBlockingQueue.java:395)
< 	at org.opends.server.extensions.TraditionalWorkQueue.submitOperation(TraditionalWorkQueue.java:259)
< 	at org.opends.server.extensions.TraditionalWorkQueue.submitOperation(TraditionalWorkQueue.java:225)
< 	at org.opends.server.core.DirectoryServer.enqueueRequest(DirectoryServer.java:2985)
< 	at org.opends.server.core.WorkQueueStrategy.enqueueRequest(WorkQueueStrategy.java:33)
< 	at org.opends.server.protocols.ldap.LdapClientConnection.addOperationInProgress(LdapClientConnection.java:441)
< 	at org.opends.server.protocols.ldap.LdapClientConnection.access$500(LdapClientConnection.java:114)
< 	at org.opends.server.protocols.ldap.LdapClientConnection$2.processOperation(LdapClientConnection.java:725)
< 	at org.opends.server.protocols.ldap.LdapClientConnection$2.visitRequest(LdapClientConnection.java:697)
< 	at org.opends.server.protocols.ldap.LdapClientConnection$2.visitRequest(LdapClientConnection.java:548)
< 	at org.forgerock.opendj.ldap.messages.SearchRequestImpl.accept(SearchRequestImpl.java:62)
< 	at org.opends.server.protocols.ldap.LdapClientConnection.handleRequestAccept(LdapClientConnection.java:548)
< 	at org.opends.server.protocols.ldap.LdapClientConnection.handleRequest(LdapClientConnection.java:528)
< 	at org.opends.server.protocols.ldap.LdapClientConnection.lambda$handle$1(LdapClientConnection.java:491)
< 	at org.opends.server.protocols.ldap.LdapClientConnection$$Lambda$409/1451358368.subscribe(Unknown Source)
< 	at io.reactivex.internal.operators.flowable.FlowableCreate.subscribeActual(FlowableCreate.java:72)
< 	at io.reactivex.Flowable.subscribe(Flowable.java:13234)
< 	at io.reactivex.internal.operators.flowable.FlowableDoOnLifecycle.subscribeActual(FlowableDoOnLifecycle.java:38)
< 	at io.reactivex.Flowable.subscribe(Flowable.java:13234)
< 	at io.reactivex.Flowable.subscribe(Flowable.java:13183)
< 	at io.reactivex.internal.operators.flowable.FlowableLift.subscribeActual(FlowableLift.java:49)
< 	at io.reactivex.Flowable.subscribe(Flowable.java:13234)
< 	at io.reactivex.internal.operators.flowable.FlowableOnErrorNext.subscribeActual(FlowableOnErrorNext.java:39)
< 	at io.reactivex.Flowable.subscribe(Flowable.java:13234)
< 	at io.reactivex.Flowable.subscribe(Flowable.java:13180)
< 	at io.reactivex.internal.operators.flowable.FlowableLift.subscribeActual(FlowableLift.java:49)
< 	at io.reactivex.Flowable.subscribe(Flowable.java:13234)
< 	at io.reactivex.internal.operators.flowable.FlowableDoOnEach.subscribeActual(FlowableDoOnEach.java:50)
< 	at io.reactivex.Flowable.subscribe(Flowable.java:13234)
< 	at io.reactivex.internal.operators.flowable.FlowableDoFinally.subscribeActual(FlowableDoFinally.java:47)
< 	at io.reactivex.Flowable.subscribe(Flowable.java:13234)
< 	at io.reactivex.internal.operators.flowable.FlowableMap.subscribeActual(FlowableMap.java:38)
< 	at io.reactivex.Flowable.subscribe(Flowable.java:13234)
< 	at io.reactivex.internal.operators.flowable.FlowableDoOnEach.subscribeActual(FlowableDoOnEach.java:50)
< 	at io.reactivex.Flowable.subscribe(Flowable.java:13234)
< 	at io.reactivex.internal.operators.flowable.FlowableOnErrorNext.subscribeActual(FlowableOnErrorNext.java:39)
< 	at io.reactivex.Flowable.subscribe(Flowable.java:13234)
< 	at io.reactivex.internal.operators.flowable.FlowableDoOnEach.subscribeActual(FlowableDoOnEach.java:50)
< 	at io.reactivex.Flowable.subscribe(Flowable.java:13234)
< 	at io.reactivex.internal.operators.flowable.FlowableDoOnEach.subscribeActual(FlowableDoOnEach.java:50)
< 	at io.reactivex.Flowable.subscribe(Flowable.java:13234)
< 	at io.reactivex.internal.operators.flowable.FlowableOnErrorReturn.subscribeActual(FlowableOnErrorReturn.java:33)
< 	at io.reactivex.Flowable.subscribe(Flowable.java:13234)
< 	at io.reactivex.internal.operators.flowable.FlowableMap.subscribeActual(FlowableMap.java:38)
< 	at io.reactivex.Flowable.subscribe(Flowable.java:13234)
< 	at io.reactivex.Flowable.subscribe(Flowable.java:13180)
< 	at io.reactivex.Flowable.subscribeWith(Flowable.java:13289)
< 	at org.forgerock.opendj.ldap.LdapServer$LdapSessionImpl.handleRequest(LdapServer.java:412)
< 	at org.forgerock.opendj.ldap.LdapServer$LdapSessionImpl.lambda$handleRequestsWith$0(LdapServer.java:391)
< 	at org.forgerock.opendj.ldap.LdapServer$LdapSessionImpl$$Lambda$405/1967105805.apply(Unknown Source)
< 	at io.reactivex.internal.operators.flowable.FlowableFlatMap$MergeSubscriber.onNext(FlowableFlatMap.java:132)
< 	at io.reactivex.internal.operators.flowable.FlowableDoOnEach$DoOnEachSubscriber.onNext(FlowableDoOnEach.java:92)
< 	at org.forgerock.opendj.grizzly.GrizzlyLdapSocketFilter$GrizzlyReader.handleRead(GrizzlyLdapSocketFilter.java:331)
< 	at org.forgerock.opendj.grizzly.GrizzlyLdapSocketFilter.handleRead(GrizzlyLdapSocketFilter.java:135)
< 	at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)
< 	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)
< 	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)
< 	at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)
< 	at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)
< 	at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)
< 	at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:539)
< 	at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)
< 	at org.glassfish.grizzly.strategies.SameThreadIOStrategy.executeIoEvent(SameThreadIOStrategy.java:103)
< 	at org.glassfish.grizzly.strategies.AbstractIOStrategy.executeIoEvent(AbstractIOStrategy.java:89)
< 	at org.glassfish.grizzly.nio.SelectorRunner.iterateKeyEvents(SelectorRunner.java:415)
< 	at org.glassfish.grizzly.nio.SelectorRunner.iterateKeys(SelectorRunner.java:384)
< 	at org.glassfish.grizzly.nio.SelectorRunner.doSelect(SelectorRunner.java:348)
---
> 	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
> 	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
> 	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
> 	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
> 	- locked <0x00000006e1a77818> (a sun.nio.ch.Util$3)
> 	- locked <0x00000006e1a77800> (a java.util.Collections$UnmodifiableSet)
> 	- locked <0x00000006e1a79f60> (a sun.nio.ch.EPollSelectorImpl)
> 	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
> 	at org.glassfish.grizzly.nio.DefaultSelectorHandler.select(DefaultSelectorHandler.java:114)
> 	at org.glassfish.grizzly.nio.SelectorRunner.doSelect(SelectorRunner.java:339)
468,475c405,426
< "Replica replay thread 2" #34 prio=5 os_prio=0 tid=0x00007fc669728800 nid=0x4d5e waiting on condition [0x00007fc5ceddc000]
<    java.lang.Thread.State: TIMED_WAITING (parking)
< 	at sun.misc.Unsafe.park(Native Method)
< 	- parking to wait for  <0x00000006e1a77698> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
< 	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
< 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
< 	at java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:467)
< 	at org.opends.server.replication.plugin.UpdateReplayThreadPool$ReplayThread.run(UpdateReplayThreadPool.java:240)
---
> "Replica replay thread 2" #34 prio=5 os_prio=0 tid=0x00007fc669728800 nid=0x4d5e runnable [0x00007fc5ceddc000]
>    java.lang.Thread.State: RUNNABLE
> 	at org.forgerock.opendj.ldap.schema.Syntax.isBerEncodingRequired(Syntax.java:316)
> 	at org.forgerock.opendj.server.core.AddBinaryOptionReactiveFilter.mustAddBinaryOption(AddBinaryOptionReactiveFilter.java:94)
> 	at org.forgerock.opendj.server.core.AddBinaryOptionReactiveFilter.transform(AddBinaryOptionReactiveFilter.java:50)
> 	at org.forgerock.opendj.server.core.AddBinaryOptionReactiveFilter.filter(AddBinaryOptionReactiveFilter.java:43)
> 	at org.opends.server.api.RequestFilterChain$1FilterSafely.handle(RequestFilterChain.java:103)
> 	at org.opends.server.loggers.ReactiveFilterAccessLog.filter(ReactiveFilterAccessLog.java:199)
> 	at org.opends.server.api.RequestFilterChain$1CompositeFilter.filter(RequestFilterChain.java:63)
> 	at org.opends.server.api.RequestFilterChain$1CompositeFilter.filter(RequestFilterChain.java:63)
> 	at org.opends.server.api.RequestFilterChain$1CompositeFilter.filter(RequestFilterChain.java:63)
> 	at org.opends.server.api.RequestFilterChain$1FilterSafely.handle(RequestFilterChain.java:103)
> 	at org.opends.server.protocols.internal.AbstractInternalClientConnection$InternalConnection.route(AbstractInternalClientConnection.java:213)
> 	at org.opends.server.protocols.internal.AbstractInternalClientConnection$InternalConnection.performRequest(AbstractInternalClientConnection.java:192)
> 	at org.opends.server.protocols.internal.AbstractInternalClientConnection$InternalConnection.add(AbstractInternalClientConnection.java:102)
> 	at org.forgerock.opendj.ldap.AbstractConnection$1.visitRequest(AbstractConnection.java:130)
> 	at org.forgerock.opendj.ldap.AbstractConnection$1.visitRequest(AbstractConnection.java:127)
> 	at org.forgerock.opendj.ldap.messages.AddRequestImpl.accept(AddRequestImpl.java:47)
> 	at org.forgerock.opendj.ldap.AbstractConnection.applyChange(AbstractConnection.java:171)
> 	at org.opends.server.replication.plugin.LDAPReplicationDomain.processReplayRequest(LDAPReplicationDomain.java:1889)
> 	at org.opends.server.replication.plugin.LDAPReplicationDomain.replay(LDAPReplicationDomain.java:1806)
> 	at org.opends.server.replication.plugin.UpdateReplayThreadPool$ReplayThread.run(UpdateReplayThreadPool.java:246)
